<header class="navbar" role="banner">
  <div class="navbar__inner">
    <a class="navbar__brand" href="{{ site.baseurl }}/">
      <img class="navbar__logo" src="{{ '/assets/img/brand-logo.svg' | relative_url }}" alt="" width="28" height="28">
      <span class="navbar__brand-name">{{ site.title }}</span>
    </a>
    <div class="navbar__actions">

      {% capture about_href %}{{ site.baseurl }}{{ site.data[site.active_lang].strings.footer.about_path }}{% endcapture %}
      <a class="navbar__link" href="{{ about_href }}">{{ site.data[site.active_lang].strings.footer.about }}</a>

      <div class="navbar__dropdown">
        <button type="button" class="navbar__dropdown-trigger" aria-expanded="false" aria-haspopup="true" aria-controls="navbar-categories-menu" id="navbar-categories-btn">{{ site.data[site.active_lang].strings.category.nav_label }}</button>
        <div class="navbar__dropdown-menu" id="navbar-categories-menu" role="menu" aria-labelledby="navbar-categories-btn">
          {% for cat in site.data.categories %}
          {% assign cat_slug = cat[1][site.active_lang].slug %}
          {% assign cat_name = cat[1][site.active_lang].name %}
          {% assign cat_base = site.data[site.active_lang].strings.category.path_segment %}
          {% capture category_href %}{{ site.baseurl }}/{% if site.active_lang != site.default_lang %}{{ site.active_lang }}/{% endif %}{{ cat_base }}/{{ cat_slug }}/{% endcapture %}
          <a class="navbar__dropdown-item" role="menuitem" href="{{ category_href }}">{{ cat_name }}</a>
          {% endfor %}
        </div>
      </div>

      <button type="button" id="theme-toggle" class="theme-toggle" aria-label="{{ site.data[site.active_lang].strings.theme.toggle_aria }}">
        <span class="theme-toggle__icon theme-toggle__icon--light" hidden aria-hidden="true">{% include icons/light-mode.html %}</span>
        <span class="theme-toggle__icon theme-toggle__icon--dark" aria-hidden="true">{% include icons/dark-mode.html %}</span>
      </button>
      <nav class="lang-switcher" aria-label="Sprache">
        {% for lang in site.languages %}
        {% capture lang_href %}{{ site.baseurl }}/{% if lang != site.default_lang %}{{ lang }}/{% endif %}{% if page.permalink_lang[lang] and page.permalink_lang[lang] != '/' %}{{ page.permalink_lang[lang] | remove_first: '/' }}{% endif %}{% endcapture %}
        {% if lang == site.active_lang %}
        <span class="lang-switcher__current" aria-current="true">{{ lang | upcase }}</span>
        {% else %}
        <a class="lang-switcher__link" {% static_href %}href="{{ lang_href }}" {% endstatic_href %}>{{ lang | upcase }}</a>
        {% endif %}
        {% unless forloop.last %}<span class="lang-switcher__sep" aria-hidden="true">/</span>{% endunless %}
        {% endfor %}
      </nav>

    </div>
  </div>
</header>